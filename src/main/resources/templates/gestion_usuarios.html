<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8" />
    <title>Gestión de Usuarios</title>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- CSS Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />

    <!---- Own CSS ---->
  <link rel="stylesheet" href="/css/panel_control.css" />
  <link rel="stylesheet" href="/css/bootstrap_configuration.css" />
  <link rel="stylesheet" href="/css/tabla_admin.css" />
  <link rel="stylesheet" href="/css/form_admin.css" />

    <!---- Font Awesome ---->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
      rel="stylesheet"
    />
	<!-- Data Table -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    
  </head>


  <body>
    <link
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"
      rel="stylesheet"
    />

     <!-- Comienza sidebar.  -->
  <nav id="sidebar" class="bg-danger">
    <div class="ms-3 me-3 mt-4 mb-1 text-center">
      <img th:src="@{/img/logo_login.png}" />
    </div>
    <ul class="list-unstyled components">
      <li class="ps-4">
        <a href="/gestion_usuarios"><i class="fa-solid fa-user"></i><span class="text-white">Gestión de
            Usuarios</span></a>
      </li>
      <li class="ps-4">
        <a href="/gestion_vuelos"><i class="fa-solid fa-plane"></i><span class="text-white">Gestión de
            Vuelos</span></a>
      </li>
      <li class="ps-4">
        <a href="/gestion_hoteles"><i class="fa-solid fa-hotel"></i><span class="text-white">Gestión de
            Hoteles</span></a>
      </li>
      <br />
      <li class="ps-4">
        <a href="/registro_ventas" class="text-white"><i class="fa fa-shopping-cart" aria-hidden="true"></i><span
            class="text-white">Registro de Ventas</span></a>
      </li>
      <li class="ps-4">
        <a href="/registro_mejor" class="text-white"><i class="fa fa-shopping-cart" aria-hidden="true"></i><span
            class="text-white">Mejores Ventas</span></a>
      </li>
      <br /><br /><br /><br /><br /><br /><br /><br />
      <li class="ps-4">
        <a href="/" class="text-white"><i class="fa fa-window-close" aria-hidden="true"></i><span
            class="text-white">Salir</span></a>
      </li>
    </ul>
  </nav>
  <!-- Finaliza sidebar. -->

    <div class="container">
      <div class="row flex-lg-nowrap">
        <div class="col-12 col-lg-auto mb-3" style="width: 200px">
          <div class="card p-3">
            <div class="e-navlist e-navlist--active-bg">
              <ul class="nav">
                <li class="nav-item">
                  <a class="nav-link px-2 active" href="#"
                    ><i class="fa fa-fw fa-bar-chart mr-1"></i
                    ><span>...</span></a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link px-2" href="#" target="__blank"
                    ><i class="fa fa-fw fa-th mr-1"></i><span>...</span></a
                  >
                </li>
                <li class="nav-item">
                  <a class="nav-link px-2" href="#" target="__blank"
                    ><i class="fa fa-fw fa-cog mr-1"></i><span>...</span></a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Comienza mantenedor. -->
        <div class="col">
          <div class="e-tabs mb-3 px-3">
            <ul class="nav nav-tabs">
              <li class="nav-item">
                <a class="nav-link active" href="#">Usuarios</a>
              </li>
            </ul>
          </div>

          <div class="row flex-lg-nowrap">
            <div class="col mb-3">
              <div class="e-panel card">
                <div class="card-body">
                  <div class="e-table">
                    <div class="table-responsive table-lg mt-3">
                      <table class="table table-bordered" id="miTabla">
                        <thead>
                          <tr>
                            <th>ID</th>
                            <th>USUARIO</th>
                            <th>PASSWORD</th>
                            <th>CORREO</th>
                            <th>ROL</th>
                            <th>ACCIONES</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr th:each="persona:${user}">
                            <td th:text="${persona.id}"></td>
                            <td th:text="${persona.nombre}"></td>
                            <td th:text="${persona.apellido}"></td>
                            <td th:text="${persona.email}"></td>
<!--                             <td th:text="${persona.rol}"></td> -->
							<td>
								<ul>
									<li th:each="rol : ${persona.roles}" th:text="${rol.authority}"></li>
								</ul>
							</td>
							
                            <td class="d-flex">
                             <!-- <button class="btn btn-danger">Eliminar</button>  &nbsp;&nbsp;
                            <a th:href="@{'/productos/editar'+'/'+ ${producto.id}}"  class="btn btn-info">Editar</a>
                            -->
                              <a class="btn btn-danger" th:href="@{'/usuario/eliminar'+'/'+ ${persona.id}}" onclick="return confirm('¿Estas seguro?')">Eliminar</a>
                              <!--<a th:href="@{'/productos/eliminar'+'/'+ ${producto.id}}"  class="btn btn-danger">Eliminar</a>-->
                            </td>
                          </tr>
                            
                        </tbody>
                      </table>
                    </div>
                    <div class="d-flex justify-content-center">
                      <ul class="pagination mt-3 mb-0">
                        <li class="disabled page-item">
                          <a href="#" class="page-link">‹</a>
                        </li>
                        <li class="active page-item">
                          <a href="#" class="page-link">1</a>
                        </li>
                        <li class="page-item">
                          <a href="#" class="page-link">2</a>
                        </li>
                        <li class="page-item">
                          <a href="#" class="page-link">3</a>
                        </li>
                        <li class="page-item">
                          <a href="#" class="page-link">4</a>
                        </li>
                        <li class="page-item">
                          <a href="#" class="page-link">5</a>
                        </li>
                        <li class="page-item">
                          <a href="#" class="page-link">›</a>
                        </li>
                        <li class="page-item">
                          <a href="#" class="page-link">»</a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Finaliza mantenedor. -->
      </div>
    </div>

    <!-- Comienza footer. -->
    <footer class="footer">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-6">
            <nav class="d-flex">
              <ul class="m-0 p-0">
                <li>
                  <a href="#"> Inicio </a>
                </li>
              </ul>
            </nav>
          </div>
          <div class="col-md-6">
            <p class="copyright d-flex justify-content-end">
              Copyright 2021 nmviajes All Rights Reserved.
            </p>
          </div>
        </div>
      </div>
    </footer>
    <!-- Finaliza footer. -->

 <!-- Finaliza footer. -->


    <style type="text/css">
      body {
        margin-top: 20px;
        background: #f8f8f8;
      }
    </style>

    <script type="text/javascript"></script>
	<!-- Own Javascript -->
	<script th:src="@{/js/index.js}"></script>

	<!-- Bootstrap JavaScript -->
	<script th:src="@{/js/jquery-3.2.1.min.js}"></script>
	<script th:src="@{/js/popper.min.js}"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/jquery-ui.min.js}"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js">
	</script>
	
	<script>
		$(document).ready(function() {
		    // Inicializa la tabla DataTable
		    let table = $('#miTabla').DataTable({
		        // Opciones de configuración (si es necesario)
		    });
		});
	</script>
	</body>
</html>